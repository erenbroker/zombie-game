<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Biyoloji Zombi Oyunu</title>
<style>
body {
  margin: 0;
  background: #111;
  color: white;
  font-family: Arial;
}
#ui {
  padding: 10px;
}
canvas {
  display: block;
  margin: auto;
  background: #222;
}
input {
  padding: 6px;
  font-size: 16px;
}
button {
  padding: 6px 12px;
}
</style>
</head>

<body>

<div id="ui">
  <h3 id="question"></h3>
  <input id="answer" placeholder="CevabÄ± yaz...">
  <button onclick="checkAnswer()">GÃ¶nder</button>

  <p>âœ… DoÄŸru: <span id="correct">0</span></p>
  <p>ğŸ”¥ Fire Skill: <span id="fire">KAPALI</span></p>
  <p>â„ï¸ Freeze Skill: <span id="freeze">KAPALI</span></p>
</div>

<canvas id="game" width="800" height="400"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let zombies = [];
let correct = 0;
let freezeTimer = 0;

const questions = [
  {q:"HÃ¼crenin enerji Ã¼retim organeli?", a:"mitokondri"},
  {q:"DNA'nÄ±n yapÄ± birimi?", a:"nÃ¼kleotit"},
  {q:"Fotosentez nerede gerÃ§ekleÅŸir?", a:"kloroplast"},
  {q:"Proteinlerin yapÄ± taÅŸÄ± nedir?", a:"aminoasit"},
  {q:"Solunumda kullanÄ±lan gaz?", a:"oksijen"},
  {q:"Bitkilerde suyu taÅŸÄ±yan doku?", a:"ksilem"},
  {q:"CanlÄ±larÄ±n en kÃ¼Ã§Ã¼k yapÄ± birimi?", a:"hÃ¼cre"},
  {q:"Fotosentez sonucu aÃ§Ä±ÄŸa Ã§Ä±kan gaz?", a:"oksijen"},
  {q:"HÃ¼cre zarÄ±nÄ±n gÃ¶revi nedir?", a:"koruma"}
];

let qIndex = 0;

function spawnZombie(count = 1) {
  for (let i = 0; i < count; i++) {
    zombies.push({
      x: Math.random() * 800,
      y: Math.random() * 400,
      speed: 0.4
    });
  }
}

spawnZombie(3);

function checkAnswer() {
  let val = document.getElementById("answer").value.toLowerCase().trim();
  if (val === questions[qIndex].a) {
    correct++;
    if (correct % 5 === 0) fireSkill();
    if (correct % 10 === 0) freezeSkill();
  } else {
    spawnZombie(2);
  }

  qIndex = (qIndex + 1) % questions.length;
  document.getElementById("question").innerText = questions[qIndex].q;
  document.getElementById("answer").value = "";
  document.getElementById("correct").innerText = correct;
}

function fireSkill() {
  zombies = [];
  document.getElementById("fire").innerText = "KULLANILDI ğŸ”¥";
  setTimeout(() => {
    document.getElementById("fire").innerText = "HAZIR";
  }, 2000);
}

function freezeSkill() {
  freezeTimer = 300;
  document.getElementById("freeze").innerText = "AKTÄ°F â„ï¸";
}

function update() {
  ctx.clearRect(0, 0, 800, 400);

  zombies.forEach(z => {
    if (freezeTimer <= 0) {
      z.x += (400 - z.x) * 0.002;
      z.y += (200 - z.y) * 0.002;
    }
    ctx.fillStyle = "red";
    ctx.beginPath();
    ctx.arc(z.x, z.y, 15, 0, Math.PI * 2);
    ctx.fill();
  });

  if (freezeTimer > 0) {
    freezeTimer--;
    if (freezeTimer === 0) {
      document.getElementById("freeze").innerText = "HAZIR";
    }
  }

  requestAnimationFrame(update);
}

document.getElementById("question").innerText = questions[0].q;
update();
</script>

</body>
</html>
